<div
  [class]="cardClasses()"
  [attr.draggable]="draggable()"
  (dragstart)="onDragStart($event)"
  (dragend)="onDragEnd($event)"
  (click)="onClick($event)"
  role="article"
  tabindex="0"
  [attr.aria-label]="title()">

  <!-- Card Header -->
  <div class="kanban-card-header">
    <span class="card-title">{{ title() }}</span>
    @if (badge()) {
      <span [class]="badgeClasses()">{{ badge()!.label }}</span>
    }
  </div>

  <!-- Subtitle -->
  @if (subtitle()) {
    <div class="card-subtitle">{{ subtitle() }}</div>
  }

  <!-- Description -->
  @if (description()) {
    <div class="card-description">{{ description() }}</div>
  }

  <!-- Meta Info (e.g., days in stage) -->
  @if (metaInfo()) {
    <div class="card-meta">
      <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <circle cx="12" cy="12" r="10"/>
        <path d="M12 6V12L16 14"/>
      </svg>
      {{ metaInfo() }}
    </div>
  }

  <!-- Progress Bar -->
  @if (showProgress()) {
    <div class="kanban-card-footer">
      <div class="progress-container">
        <div class="progress-bar-bg">
          <div
            [class]="progressClasses()"
            [style.width.%]="progress()">
          </div>
        </div>
      </div>
      <span class="progress-text">{{ progress() }}%</span>
    </div>
  }
</div>
